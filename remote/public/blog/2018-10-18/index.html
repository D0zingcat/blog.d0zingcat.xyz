<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="This site records how d0zingcat discovers the world">


    <meta property="twitter:site" content="@d0zingcat">

<meta property="og:site_name" content="For(;;);" />
<meta property="og:locale" content="en-US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.d0zingcat.xyz/blog/2018-10-18/" />
<meta property="og:title" content="2018-10-18" />
<meta property="twitter:title" content="2018-10-18">

    <meta property="twitter:card" content="summary">

<meta property="og:description" content="">
<meta property="twitter:description" content="">

<title>


     For(;;); - 2018-10-18 

</title>
<link rel="canonical" href="https://blog.d0zingcat.xyz/blog/2018-10-18/">


<style media="screen">
  @font-face {
  font-family: 'Nexa Bold';
  src: url('https://blog.d0zingcat.xyz/fonts/Nexa Bold.otf');
}

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section, div.column {
  display: block;
}
body {
  line-height: 1;
}
ol, ul {
  list-style: none;
}
blockquote, q {
  quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}

*,
*:before,
*:after {
  box-sizing: border-box;
}
a,
a:visited,
a:focus,
a:active {
  text-decoration: none;
}
html {
  height: 100%;
  font-size: 16px;
}
body {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: column;
  -moz-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  -webkit-justify-content: flex-start;
  -moz-justify-content: flex-start;
  -ms-justify-content: flex-start;
  justify-content: flex-start;
  width: 100%;
  min-height: 100%;
  font-weight: 400;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  color: #111111;
  line-height: 1.6;
  text-rendering: optimizeLegibility !important;
}
.icon {
  text-rendering: geometricPrecision !important;
}
section {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  width: 100%;
}
div.column {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  width: 100%;
}
.container {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  width: 100%;
}
div.header .container {
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
}
div.header .content {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: column;
  -moz-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
}
div.header .container .logo {
  
  max-width: 100px;
  
  margin-left: -2em;
}
div.header .name {
  padding-top: 20px;
  font-size: 28px;
  font-family: 'Nexa Bold', 'Helvetica Neue', 'Arial', sans-serif;
  letter-spacing: -0.005rem;
  
  text-transform: uppercase;
  
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;
  color: #333333;
}
div.header nav {
  margin-bottom: 16px;
}
div.header nav ul {
  list-style: none;
  text-align: center;
  display: -webkit-inline-flex;
  display: -moz-inline-flex;
  display: -ms-inline-flexbox;
  display: -ms-inline-flex;
  display: inline-flex;
}
div.header nav ul li {
  margin-left: 6px;
  margin-right: 6px;
}
div.header nav ul li:first-child {
  margin-left: 0;
}
div.header nav ul li:last-child {
  margin-right: 0;
}
div.header nav ul a {
  color: #555555;
  font-weight: 400;
  font-size: 14px;
  text-transform: uppercase;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  -webkit-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -moz-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -ms-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -o-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
}
div.header nav ul a:hover {
  color: #111111;
}
div.footer .container {
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
  flex-direction: column-reverse;
  width: 100%;
  text-align: center;
}
div.footer .container a {
  font-size: 14px;
  margin-left: 6px;
  margin-right: 6px;
  opacity: 0.6;
  -webkit-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -moz-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -ms-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -o-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
}
div.footer .container a:first-child {
  margin-left: 0;
}
div.footer .container a:last-child {
  margin-right: 0;
}
div.footer .container a:hover {
  opacity: 0.8;
}
div.footer .container a .icon {
  width: 16px;
  height: 16px;
}
div.footer .container .copyright {
  flex-grow: 0.5;
  text-align: start;
}
div.footer .container .icons {
  flex-grow: 0.5;
  text-align: end;
}
div.main .container {
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  -webkit-justify-content: flex-start;
  -moz-justify-content: flex-start;
  -ms-justify-content: flex-start;
  justify-content: flex-start;
}
div.main .content {
  color: #111111;
  font-size: 16px;
}
div.main .content .title-container {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-justify-content: space-between;
  -moz-justify-content: space-between;
  -ms-justify-content: space-between;
  justify-content: space-between;
}
div.main .content .posts {
  
  
}
div.main .content .page-heading {
  font-size: 20px;
  font-weight: 700;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  letter-spacing: -0.005rem;
  text-transform: uppercase;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;
  color: #333333;
  margin-bottom: 16px;
}
div.main .content .front-matter .page-heading {
  margin-bottom: 0;
}
div.main .content .front-matter .meta {
  font-size: 14px;
  color: #666666;
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  margin-bottom: 32px;
}
div.main .content .front-matter .date,
div.main .content .front-matter .author,
div.main .content .front-matter .tags,
div.main .content .front-matter .word-count,
div.main .content .front-matter .middot:before {
  display: none;
}
div.main .content .front-matter .middot:before {
  font-size: 6px;
  margin: 0 6px;
  vertical-align: middle;
  content: "•";
}
div.main .content .front-matter .tags ul {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: row;
  -moz-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
}
div.main .content .front-matter .tags ul li {
  -webkit-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -moz-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -ms-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -o-transition: opacity 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
}
div.main .content .front-matter .tags ul li:hover {
  opacity: 0.7;
}
div.main .content .front-matter .tags ul li a {
  color: #666666;
}
div.main .container.f04 {
  -webkit-justify-content: center;
  -moz-justify-content: center;
  -ms-justify-content: center;
  justify-content: center;
}
div.main .container.f04 .content {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: column;
  -moz-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
}
div.main .container.f04 .content .num {
  margin: 30px 0px 30px 0;
  font-weight: 400;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  font-size: 50px;
}
div.main .container.f04 .content .detail {
  margin-bottom: 40px;
}
div.main .container .content .groupby {
  margin-top: 1em;
  padding-left: 0.5em;
}
div.main .container .content .post-item {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  display: list-item;
  list-style: disc inside;
}
div.main .container .content .post-item .meta {
  font-size: 14px;
  color: #666666;
  display: none;
  min-width: 100px;
}
div.main .container .content .see-more {
  font-style: italic;
  float: right;
  font-size: 0.9em;
  margin-top: 2em;
  color: #313537;
}
div.main .container .content .see-more:hover {
  color: #666;
}
section {
  padding: 0 16px;
}
div.column {
  padding: 0 16px;
}
div.header {
  padding-top: 10px;
}
div.header-home {
  padding-top: 36px;
}
div.main {
  padding-top: 32px;
}
div.main .container .content .post-item .meta {
    display: block;
}
div.main .container .content .post-item {
    display: flex;
    list-style: none;
}
a {
  color: #428bca;
  -webkit-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -moz-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -ms-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
  -o-transition: color 0.1s cubic-bezier(0.47, 0, 0.75, 0.72);
}
a:hover {
  color: #2a6496;
}
img {
  max-width: 100%;
}
div.main .content {
    width: 100%;
}
div.main .content .markdown {
  font-size: 1.1em;
  line-height: 1.75em;
  color: #313537;
  font-family: serif;
  font-weight: 300;
}
div.main .content .markdown h1,
div.main .content .markdown h2,
div.main .content .markdown h3,
div.main .content .markdown h4,
div.main .content .markdown h5,
div.main .content .markdown h6 {
  font-size: 22px;
  font-family: 'Helvetica Neue', 'Arial', sans-serif;
  letter-spacing: -0.005rem;
  font-weight: 700;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;
  color: #333333;
  text-transform: none;
  margin-top: 1.75rem;
}
div.main .content .markdown h1 {
  font-size: 1.75rem;
  margin-bottom: 2rem;
}
div.main .content .markdown h2 {
  font-size: 1.5rem;
  margin-bottom: 1.5rem;
}
div.main .content .markdown h3 {
  font-size: 1em;
  margin-bottom: 1rem;
}
div.main .content .markdown h4,
div.main .content .markdown h5,
div.main .content .markdown h6 {
  font-size: 1rem;
  margin-bottom: 1rem;
  letter-spacing: none;
}
div.main .content .markdown code,
div.main .content .markdown pre {
  font-family: 'Menlo', monospace;
  font-size: 0.98rem;
  background-color: #f7f7f7;
}
div.main .content .markdown code {
  /* enclosed by single backtick (`) */
  padding: .15em .5em;
  border-radius: 2px;
}
div.main .content .markdown pre {
  /* Hugo specific: consider using the 'highlight' shortcode */
  display: block;
  margin-top: 1rem;
  margin-bottom: 2rem;
  padding: 1rem;
  line-height: 1.5em;
  white-space: pre;
  word-break: break-all;
  word-wrap: break-word;
}
div.main .content .markdown pre code {
  /* enclosed by 4 backticks (````) */
  padding: 0;
  font-size: 0.9rem;
}
div.main .content .markdown a code {
  color: #428bca !important;
}
div.main .content .markdown a code:hover {
  text-decoration: underline;
}
div.main .content .markdown p {
  
  text-align: justify;
  
  margin-top: 0;
  margin-bottom: 1em;
}
div.main .content .markdown ul,
div.main .content .markdown ol,
div.main .content .markdown dl {
  margin-top: 1rem;
  margin-bottom: 2rem;
}
div.main .content .markdown dt {
  font-weight: bold;
}
div.main .content .markdown dd {
  margin-bottom: .5rem;
}
div.main .content .markdown ul {
  list-style-type: disc;
  list-style-position: outside;
  margin-bottom: 1.25rem;
}
div.main .content .markdown ol {
  list-style-type: decimal;
  margin-bottom: 1.25rem;
}
div.main .content .markdown li {
  margin-left: 2em;
}
div.main .content .markdown em {
  font-style: italic;
}
div.main .content .markdown strong {
  font-weight: 700;
}
div.main .content .markdown hr {
  position: relative;
  margin: 1.75rem 0;
  border: 0;
  border-top: 1px solid #808080;
  border-top: 1px solid #999999;
}
div.main .content .markdown abbr {
  font-size: 0.85rem;
  font-weight: bold;
  color: #666666;
  text-transform: uppercase;
}
div.main .content .markdown abbr[title] {
  cursor: help;
  border-bottom: 1px dotted #808080;
}
div.main .content .markdown blockquote {
  padding: .5rem 1rem;
  margin: .8rem 0;
  color: #7a7a7a;
  border-left: .25rem solid #e5e5e5;
}
div.main .content .markdown blockquote p:last-child {
  margin-bottom: 0;
}
div.main .content .markdown figure {
  width: 100%;
  background: #fff;
  margin-bottom: 1em;
}
div.main .content .markdown figure img {
  width: 100%;
  height: auto;
  max-width: 100%;
  display: block;
  position: static;
  margin: auto;
}
div.main .content .markdown table {
  margin-bottom: 1rem;
  width: 100%;
  border: 1px solid #e5e5e5;
  border-collapse: collapse;
}
div.main .content .markdown td,
div.main .content .markdown th {
  padding: .25rem .5rem;
  border: 1px solid #e5e5e5;
}
div.main .content .markdown tbody tr:nth-child(odd) td,
div.main .content .markdown tbody tr:nth-child(odd) th {
  background-color: #f7f7f7;
}
div.main .content .markdown .footnotes ol {
  list-style-type: decimal;
  margin-left: 16px;
}
div.main .content .markdown .footnotes li {
  list-style-type: unset;
}
div.main .content .markdown .footnote-ref {
  font-size: 0.7em;
}
div.main .content .navigation {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: column;
  -moz-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  padding: 2em;
}
div.main .content .navigation div {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: row;
  -moz-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  margin-top: 1em;
}
div.main .content .navigation .icon {
  width: 16px;
  height: 16px;
}
div.main .content .navigation a {
  width: 250px;
  margin: 0 1em;
  text-align: center;
  font-style: italic;
  color: #313537;
}
div.main .content .share, div.main .content .share div {
  display: -webkit-flex;
  display: -moz-flex;
  display: -ms-flexbox;
  display: -ms-flex;
  display: flex;
  -webkit-flex-direction: row;
  -moz-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  -webkit-align-items: center;
  -moz-align-items: center;
  -ms-align-items: center;
  align-items: center;
  justify-content: center;
}
div.main .content .share {
  background-color: rgba(152, 152, 152, 0.07);
  padding: 1em 0;
}
div.main .content .share a {
  margin: 0 6px;
}
kbd {
  padding: 0.1em 0.6em;
  border: 1px solid #ccc;
  font-size: 11px;
  font-family: Arial,Helvetica,sans-serif;
  background-color: #f7f7f7;
  color: #333;
  -moz-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  -webkit-box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  box-shadow: 0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  display: inline-block;
  margin: 0 0.1em;
  text-shadow: 0 1px 0 #fff;
  line-height: 1.4;
  white-space: nowrap;
}

/* Fonts */


.wf-raleway-n4-active body, 
.wf-raleway-n4-active div.header nav ul a,
.wf-raleway-n7-active div.main .content .page-heading,
.wf-raleway-n2-active div.main .container.f04 .content .num,
.wf-raleway-n7-active div.main .content .markdown h1,
.wf-raleway-n7-active div.main .content .markdown h2,
.wf-raleway-n7-active div.main .content .markdown h3,
.wf-raleway-n7-active div.main .content .markdown h4,
.wf-raleway-n7-active div.main .content .markdown h5,
.wf-raleway-n7-active div.main .content .markdown h6 {
      font-family: 'Raleway';
}

.wf-merriweather-n3-active div.main .content .markdown {
      font-family: 'Merriweather';
}

.wf-ubuntu-mono-n4-active div.main .content .markdown code,
.wf-ubuntu-mono-n4-active div.main .content .markdown pre {
      font-family: 'Ubuntu Mono';
}


</style>
<style media="(min-width: 600px)">
  body {
-webkit-justify-content: center;
-moz-justify-content: center;
-ms-justify-content: center;
justify-content: center;
}
.non-narrow.zero-top-spacing {
padding-top: 0 !important;
}
section {
padding: 0 16px;
margin-left: 100px;
margin-right: 100px;

max-width: 750px;

}
div.column {
padding: 0 16px;

max-width: 750px;

}
div.header {
background-color: transparent;
}
div.header .container {
-webkit-justify-content: flex-start;
-moz-justify-content: flex-start;
-ms-justify-content: flex-start;
justify-content: flex-start;
}
div.header .container .logo {
margin: 0;
}
div.header-home .container .logo {
max-width: 216px;
margin-left: 24px;
}
div.header-home .name-home {
padding-top: 30px;
font-size: 40px;
}
div.header-home nav ul a {
font-size: 18px;
}
div.header .content {
-webkit-align-items: flex-start;
-moz-align-items: flex-start;
-ms-align-items: flex-start;
align-items: flex-start;
}
div.header .name {
color: #333333;
}
div.header nav {
font-size: 14px;
margin-bottom: 0;
}
div.header nav ul {
text-align: left;
}
div.header nav ul a {
color: #666666;
}
div.header nav ul a:hover {
color: #333333;
}
div.footer {
background-color: transparent;
}
div.footer .container {
flex-direction: row;
}
div.footer .container a {
margin-left: 3px;
margin-right: 3px;
color: #666666;
}
div.footer .container a:hover {
color: #333333;
}
div.footer .container a .icon {
font-size: 18px;
}
div.footer .container a .icon.larger {
font-size: 20px;
}
div.main .content .front-matter .date,
div.main .content .front-matter .author,
div.main .content .front-matter .tags,
div.main .content .front-matter .word-count,
div.main .content .front-matter .middot:before {
display: initial;
}
div.main .container.f04 {
-webkit-justify-content: flex-start;
-moz-justify-content: flex-start;
-ms-justify-content: flex-start;
justify-content: flex-start;
}
div.main .container.f04 .content {
-webkit-align-items: flex-start;
-moz-align-items: flex-start;
-ms-align-items: flex-start;
align-items: flex-start;
}
div.main .container.f04 .content .num {
margin: 0 0 10px 0;
font-size: 32px;
}
div.main .container.f04 .content .detail {
margin-bottom: 30px;
}
.container {
padding: 0 30px;
}
div.header {
padding-top: 60px;
padding-bottom: 60px;
}
div.footer {
padding-top: 60px;
padding-bottom: 60px;
}
div.main {
padding-top: 0;
}
div.main .content {
  
  font-size: 16px;
  
}
div.main .container .content .post-item {
display: flex;
list-style: none;
padding-left: 1.5em;
}
div.main .container .content .post-item .meta {
display: block;
}
div.main .content .markdown blockquote {
padding-right: 5rem;
padding-left: 1.25rem;
}
div.main .content .navigation {
-webkit-flex-direction: row;
-moz-flex-direction: row;
-ms-flex-direction: row;
flex-direction: row;
}
div.main .content .navigation div {
margin-top: 0em;
}

</style>
<style media="(min-width: 769px)">
  div.main .content .markdown figure {
width: 110%;
margin-left: -4%;
}
div.main .content .markdown img {
max-width: 110%;
width: 110%;
margin-left: -4%;
}
div.main .content .markdown pre {
width: 110%;
margin-left: -4%;
}

</style>

<noscript>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,700,700i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700" rel="stylesheet">
</noscript>


  <style type="text/css" media="screen">
    .hljs{display:block;background:white;padding:0.5em;color:#333333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-string,.hljs-variable,.hljs-template-variable,.hljs-strong,.hljs-emphasis,.hljs-quote{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-literal,.hljs-symbol,.hljs-bullet,.hljs-attribute{color:#0086b3}.hljs-section,.hljs-name{color:#63a35c}.hljs-tag{color:#333333}.hljs-title,.hljs-attr,.hljs-selector-id,.hljs-selector-class,.hljs-selector-attr,.hljs-selector-pseudo{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}
  </style>



  <style type="text/css" media="screen">
    .progressive{overflow:hidden;position:relative;background:#efefef}.progressive__img{width:100%;height:100%;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}.progressive--not-loaded{filter:blur(30px);-webkit-filter:blur(30px)}.progressive--is-loaded{filter:blur(20px);-webkit-filter:blur(20px);-webkit-animation:sharpen .5s both;animation:sharpen .5s both}@-webkit-keyframes sharpen{from{filter:blur(20px);-webkit-filter:blur(20px)}to{filter:blur(0);-webkit-filter:blur(0)}}@keyframes sharpen{from{filter:blur(20px);-webkit-filter:blur(20px)}to{filter:blur(0);-webkit-filter:blur(0)}}
  </style>









<link rel="shortcut icon"

    href="https://blog.d0zingcat.xyz/images/favicon.ico"

>




</head>


<body>


<div class="header column">

    <div class="container">
        
        <a href="https://blog.d0zingcat.xyz/"><img class="logo" src="https://blog.d0zingcat.xyz/images/empowered-by-gnu.svg" alt="logo"></a>
        
        <div class="content">
            <a href="https://blog.d0zingcat.xyz/"><div class="name"><h1>For(;;);</h1></div></a>
            <nav>
                <ul>
                    
                            <li><a href="https://blog.d0zingcat.xyz/blog/">Blog</a></li>
                    
                    
                        
                            
                        
                    
                    
                        
                            <li><a href="https://blog.d0zingcat.xyz/links/">links</a></li>
                        
                    
                        
                            <li><a href="https://blog.d0zingcat.xyz/about/">About</a></li>
                        
                    
                        
                    
                        
                    
                </ul>
            </nav>
        </div>
    </div>
</div>





<div class="main post non-narrow zero-top-spacing column">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    
    Draft::2018-10-18
    

</div>

                </div>
                <div class="meta">
                    <div class="date" title="Sat Nov 3 2018 18:59:36 CST">Nov 3, 2018</div>
                    
                        
                    
                    
                    <div class="reading-time middot">14 minute read</div>
                    
                    <div class="tags">
                        <ul>
                          
                            <li class="middot"><a href="https://blog.d0zingcat.xyz/tags/bfs">bfs</a> </li>
                          
                            <li class="middot"><a href="https://blog.d0zingcat.xyz/tags/dfs">dfs</a> </li>
                          
                            <li class="middot"><a href="https://blog.d0zingcat.xyz/tags/union-find">union-find</a> </li>
                          
                            <li class="middot"><a href="https://blog.d0zingcat.xyz/tags/gcd">gcd</a> </li>
                          
                            <li class="middot"><a href="https://blog.d0zingcat.xyz/tags/popcount">popcount</a> </li>
                          
                        </ul>
                    </div>
                    <div class="tags">
                        <ul>
                          
                            
                          
                          
                            
                          
                        </ul>
                    </div>
                </div>
            </div>
            <div class="markdown">
                
    
    

<blockquote>
<p>本周因为公司需要搞个技术小组分享形式的内部会议，所以很匆忙地赶了一些粗制滥造的算法内容出来。主要有最简单的bfs、dfs、union-find、popcount等算法。以下为内容：</p>
</blockquote>

<h1 id="graph">Graph</h1>

<p><em>intro and definition</em></p>

<ol>
<li>subgraph</li>
<li>connectivity</li>
<li>trees and forest
3.1 simple unbalanced tree sort</li>
</ol>

<h1 id="bfs">BFS</h1>

<ol>
<li>Definition: A BFS traversal of a graph returns the nodes of the graph level by level.</li>
<li>Application form: by queue</li>
</ol>

<p>A queue is a line. If you’re the first to get in a bus line, you’re the first to get on the bus. First In, First Out.</p>

<h2 id="leetcode">leetcode</h2>

<pre><code>515. Find Largest Value in Each Tree Row
You need to find the largest value in each row of a binary tree.

Example:
Input: 

          1
         / \
        3   2
       / \   \  
      5   3   9 

Output: [1, 3, 9]

</code></pre>

<p><em>solution</em></p>

<pre><code class="language-golang">
type TreeNode struct {
	Val   int
	Left  *TreeNode
	Right *TreeNode
}

func bfs(root *TreeNode) []int {
	if root == nil {
		return nil
	}
	var queue []*TreeNode
	var res []int
	queue = append(queue, root)
	pos := 0
	for pos &lt; len(queue) {
		max := ^int(^uint(0) &gt;&gt; 1)
		length := len(queue)
		for i := pos; i &lt; length; i++ {
			t := queue[i]
			if t.Val &gt; max {
				max = t.Val
			}
			if queue[i].Left != nil {
				queue = append(queue, queue[i].Left)
			}
			if queue[i].Right != nil {
				queue = append(queue, queue[i].Right)
			}
			pos++
		}
		res = append(res, max)
	}
	return res
}

func main() {
	root := &amp;TreeNode{Val: 1}
	root.Left = &amp;TreeNode{Val: 3}
	root.Right = &amp;TreeNode{Val: 2}
	root.Left.Left = &amp;TreeNode{Val: 5}
	root.Left.Right = &amp;TreeNode{Val: 3}
	root.Right.Right = &amp;TreeNode{Val: 9}
	fmt.Println(bfs(root))
	fmt.Println(bfs(nil))
}
</code></pre>

<p><em>Attention</em></p>

<ul>
<li>empty data set may cause exception</li>
<li>list length should not change during process of fetching one element, should use offset to start with</li>
</ul>

<h1 id="dfs">DFS</h1>

<ol>
<li>definition</li>
<li>usage</li>
<li>complexity</li>
<li>further usage (1. path between two vertices 2. find a cycle in the graph)</li>
</ol>

<h2 id="leetcode-1">leetcode</h2>

<pre><code>547. Friend Circles
There are N students in a class. Some of them are friends, while some are not. Their friendship is transitive in nature. For example, if A is a direct friend of B, and B is a direct friend of C, then A is an indirect friend of C. And we defined a friend circle is a group of students who are direct or indirect friends.

Given a N*N matrix M representing the friend relationship between students in the class. If M[i][j] = 1, then the ith and jth students are direct friends with each other, otherwise not. And you have to output the total number of friend circles among all the students.

Example 1:
Input: 
[[1,1,0],
 [1,1,0],
 [0,0,1]]
Output: 2
Explanation:The 0th and 1st students are direct friends, so they are in a friend circle. 
The 2nd student himself is in a friend circle. So return 2.
Example 2:
Input: 
[[1,1,0],
 [1,1,1],
 [0,1,1]]
Output: 1
Explanation:The 0th and 1st students are direct friends, the 1st and 2nd students are direct friends, 
so the 0th and 2nd students are indirect friends. All of them are in the same friend circle, so return 1.
Note:
N is in range [1,200].
M[i][i] = 1 for all students.
If M[i][j] = 1, then M[j][i] = 1.
</code></pre>

<p><em>DFS solution</em></p>

<pre><code class="language-golang">func dfs(M [][]int, i int, visit []bool) {
	for j := range M {
		if M[i][j] == 1 &amp;&amp; !visit[j] {
			visit[j] = true
			dfs(M, j, visit)
		}
	}
}

func findCircleNum(M [][]int) int {
	visit := make([]bool, len(M))
	ans := 0
	for i := range M {
		if !visit[i] {
			ans++
			dfs(M, i, visit)
		}
	}
	return ans
}
</code></pre>

<p><em>Union find solution</em></p>

<pre><code class="language-golang">
var size int

var pre []int
var rank []int
var count int

func findPre(x int) int {
	if pre[x] == x {
		return x
	}
	return findPre(x)
}

func compFindPre(x int) int {
	if pre[x] == x {
		return x
	}
	pre[x] = compFindPre(pre[x])
	return pre[x]
}

func union(x, y int) {
	rootX := compFindPre(x)
	rootY := compFindPre(y)
	if rootX == rootY {
		return
	}

	if rank[rootX] &lt; rank[rootY] {
		pre[rootX] = rootY
	} else {
		pre[rootY] = rootX
		if rank[rootX] == rank[rootY] {
			rank[rootX]++
		}
	}
	count--
}

func FindCircleNum(M [][]int) int {
	size = len(M)
	count = size
	pre = make([]int, size)
	rank = make([]int, size)
	for i := 0; i &lt; size; i++ {
		pre[i] = i
		rank[i] = 1
	}
	for i := 0; i &lt; size; i++ {
		for j := i + 1; j &lt; size; j++ {
			if M[i][j] == 1 {
				union(i, j)
			}
		}
	}
	return count
}

</code></pre>

<h1 id="union-find">Union find</h1>

<blockquote>
<p>In computer science, a disjoint-set data structure (also called a union–find data structure or merge–find set) is a data structure that tracks a set of elements partitioned into a number of disjoint (non-overlapping) subsets. It provides near-constant-time operations (bounded by the inverse Ackermann function) to add new sets, to merge existing sets, and to determine whether elements are in the same set. In addition to many other uses (see the Applications section), disjoint-sets play a key role in Kruskal&rsquo;s algorithm for finding the minimum spanning tree of a graph.</p>
</blockquote>

<p><em>make connections</em></p>

<ol>
<li>usage seriano</li>
<li>find</li>
<li>union</li>
<li>find and compression</li>
</ol>

<h1 id="greatest-common-divisor-algorithm">Greatest Common Divisor Algorithm</h1>

<blockquote>
<p>In mathematics, the Euclidean algorithm[a], or Euclid&rsquo;s algorithm, is an efficient method for computing the greatest common divisor (GCD) of two numbers, the largest number that divides both of them without leaving a remainder. It is named after the ancient Greek mathematician Euclid, who first described it in his Elements (c. 300 BC). It is an example of an algorithm, a step-by-step procedure for performing a calculation according to well-defined rules, and is one of the oldest algorithms in common use. It can be used to reduce fractions to their simplest form, and is a part of many other number-theoretic and cryptographic calculations.</p>

<p>The Euclidean algorithm is based on the principle that the greatest common divisor of two numbers does not change if the larger number is replaced by its difference with the smaller number. For example, 21 is the GCD of 252 and 105 (as 252 = 21 × 12 and 105 = 21 × 5), and the same number 21 is also the GCD of 105 and 252 − 105 = 147. Since this replacement reduces the larger of the two numbers, repeating this process gives successively smaller pairs of numbers until the two numbers become equal. When that occurs, they are the GCD of the original two numbers. By reversing the steps, the GCD can be expressed as a sum of the two original numbers each multiplied by a positive or negative integer, e.g., 21 = 5 × 105 + (−2) × 252. The fact that the GCD can always be expressed in this way is known as Bézout&rsquo;s identity.</p>
</blockquote>

<p><em>Binary Greatest Common Divisor Algoroithm</em></p>

<blockquote>
<p>The binary GCD algorithm, also known as Stein&rsquo;s algorithm, is an algorithm that computes the greatest common divisor of two nonnegative integers. Stein&rsquo;s algorithm uses simpler arithmetic operations than the conventional Euclidean algorithm; it replaces division with arithmetic shifts, comparisons, and subtraction. Although the algorithm was first published by the Israeli physicist and programmer Josef Stein in 1967,[1] it may have been known in 1st-century China.</p>
</blockquote>

<pre><code class="language-golang">
// Stein's Algorithm
func BinaryGCD(u, v int64) int64 {
	if u == v {
		return u
	}
	if v == 0 {
		return u
	}
	if u == 0 {
		return v
	}
	if ^u&amp;1 == 1 { // u is even
		if v&amp;1 == 1 { // v is odd
			return BinaryGCD(u&gt;&gt;1, v)
		} else {
			return BinaryGCD(u&gt;&gt;1, v&gt;&gt;1) &lt;&lt; 1
		}
	}
	// u is odd
	if ^v&amp;1 == 1 { // v is even
		return BinaryGCD(u, v&gt;&gt;1)
	}
	// v is odd
	if u &gt; v {
		return BinaryGCD((u-v)&gt;&gt;1, v)
	} else {
		return BinaryGCD((v-u)&gt;&gt;1, u)
	}
}

func BGCDRecurrence(u, v int) int {
	if u == v {
		return u
	}
	if u == 0 {
		return v
	}
	if v == 0 {
		return u
	}
	var shift uint
	for shift = 0; (u|v)&amp;1 == 0; shift++ {
		u &gt;&gt;= 1
		v &gt;&gt;= 1
	}
	for u&amp;1 == 0 {
		u &gt;&gt;= 1
	}
	for {
		for v&amp;1 == 0 {
			v &gt;&gt;= 1
		}
		if u &gt; v {
			u, v = v, u
		}
		v = (v - u) &gt;&gt; 1
		if v == 0 {
			break
		}
	}
	return u &lt;&lt; shift
}
</code></pre>

<p><em>Common GCD Algorithm</em></p>

<pre><code class="language-golang">func CommonGCD(x, y int64) int64 {
	if x &lt; y {
		x, y = y, x
	}
	for x%y != 0 {
		x, y = y, x%y
	}
	return y
}
</code></pre>

<p><em>Benchmark</em></p>

<pre><code class="language-golang">// small numbers
// Euclidean algorithm
func BenchmarkCommonGCD(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		CommonGCD(18, 12)
	}
}
// Stein's Algorithm
func BenchmarkBinaryGCD(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		BinaryGCD(18, 12)
	}
}
</code></pre>

<ol>
<li>Euclidean</li>
</ol>

<pre><code>goos: windows
goarch: amd64
pkg: github.com/d0zingcat/labs/gcd/common
BenchmarkCommonGCD-4   	100000000	        20.0 ns/op
PASS
ok  	github.com/d0zingcat/labs/gcd/common	2.104s
</code></pre>

<ol>
<li>Binary</li>
</ol>

<pre><code>goos: windows
goarch: amd64
pkg: github.com/d0zingcat/labs/gcd/binary
BenchmarkBinaryGCD-4   	100000000	        10.5 ns/op
PASS
ok  	github.com/d0zingcat/labs/gcd/binary	1.165s
</code></pre>

<p><strong>ALMOST double its effience!!!</strong></p>

<pre><code class="language-golang">// int64 big numbers
// Euclidean algorithm
func BenchmarkCommonGCD(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		r := rand.New(rand.NewSource(time.Now().UnixNano()))
		CommonGCD(r.Int63(), r.Int63())
	}
}

// Stein's Algorithm
func BenchmarkBinaryGCD(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		r := rand.New(rand.NewSource(time.Now().UnixNano()))
		BinaryGCD(r.Int63(), r.Int63())
	}
}

</code></pre>

<ol>
<li>Euclidean</li>
</ol>

<pre><code>goos: windows
goarch: amd64
pkg: github.com/d0zingcat/labs/gcd/common
BenchmarkCommonGCD-4   	  200000	     10610 ns/op
PASS
ok  	github.com/d0zingcat/labs/gcd/common	2.388s
</code></pre>

<ol>
<li>Binary</li>
</ol>

<pre><code>goos: windows
goarch: amd64
pkg: github.com/d0zingcat/labs/gcd/binary
BenchmarkBinaryGCD-4   	  200000	      9885 ns/op
PASS
ok  	github.com/d0zingcat/labs/gcd/binary	2.192s
</code></pre>

<p><strong>Each op differs by almost 0.5 ms! still quite fast in practice</strong></p>

<h1 id="popcount-algorithm-hamming-weight">Popcount Algorithm(Hamming Weight)</h1>

<blockquote>
<p>Question: how to count all the 1s in a 0-1 binary string of a number</p>
</blockquote>

<ol>
<li>arithmatical op: %2 == 1; n /= 2</li>
<li>bitwise op</li>
</ol>

<p>2.1 iterated popcount
2.2 sparse popcount
2.3 dense popcount
2.4 lookup popcount
2.5 parallel popcount
2.6 to be continued&hellip;. cannot understand any more</p>

<p><em>code</em></p>

<pre><code class="language-golang">var pc [256]byte = [...]byte{
	0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 4, 1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5,
	1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5, 2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5, 2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6, 3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7,
	1, 2, 2, 3, 2, 3, 3, 4, 2, 3, 3, 4, 3, 4, 4, 5, 2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6, 3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7,
	2, 3, 3, 4, 3, 4, 4, 5, 3, 4, 4, 5, 4, 5, 5, 6, 3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7,
	3, 4, 4, 5, 4, 5, 5, 6, 4, 5, 5, 6, 5, 6, 6, 7, 4, 5, 5, 6, 5, 6, 6, 7, 5, 6, 6, 7, 6, 7, 7, 8,
}

//func init() {
//	for i := range pc {
//		pc[i] = pc[i/2] + byte(i&amp;1)
//	}
//}

func LookupCount(x uint64) int {
	// x != 0 &amp;&amp; x &amp; (x-1) == 0 is power to 2
	// equavilent to x &amp; 0xff
	return int(pc[byte(x&gt;&gt;(0*8))] +
		pc[byte(x&gt;&gt;(1*8))] +
		pc[byte(x&gt;&gt;(2*8))] +
		pc[byte(x&gt;&gt;(3*8))] +
		pc[byte(x&gt;&gt;(4*8))] +
		pc[byte(x&gt;&gt;(5*8))] +
		pc[byte(x&gt;&gt;(6*8))] +
		pc[byte(x&gt;&gt;(7*8))])
}

func StupidCount(n int) int {
	count := 0
	for n != 0 {
		if n%2 == 1 {
			count++
		}
		n /= 2
	}
	return count
}

// log2N
func NaiveCount(n int) int {
	count := 0
	for n != 0 {
		count += (n &amp; 0x1)
		n &gt;&gt;= 1
	}
	return count
}

func SparseCount(n int) int {
	count := 0
	for n != 0 {
		count++
		// Zero the lowest-order one-bit
		n &amp;= n - 1
	}
	return count
}

func DenseCount(n int64) int {
	count := 64
	n = ^n
	for n != 0 {
		count--
		n &amp;= (n - 1)
	}
	return count
}

func ParallelCount(n int64) int64 {
	const (
		//uint64_t is an unsigned 64-bit integer variable type (defined in C99 version of C language)
		m1  = 0x5555555555555555 //binary: 0101...
		m2  = 0x3333333333333333 //binary: 00110011..
		m4  = 0x0f0f0f0f0f0f0f0f //binary:  4 zeros,  4 ones ...
		m8  = 0x00ff00ff00ff00ff //binary:  8 zeros,  8 ones ...
		m16 = 0x0000ffff0000ffff //binary: 16 zeros, 16 ones ...
		m32 = 0x00000000ffffffff //binary: 32 zeros, 32 ones
		h01 = 0x0101010101010101 //the sum of 256 to the power of 0,1,2,3...
	)

	// or to be optimized
	const (
		mm1  = 0xffffffffffffffff / (0x2 + 1)
		mm2  = 0xffffffffffffffff / (0x4 + 1)
		mm4  = 0xffffffffffffffff / (0x10 + 1)
		mm8  = 0xffffffffffffffff / (0x100 + 1)
		mm16 = 0xffffffffffffffff / (0x10000 + 1)
		mm32 = 0xffffffffffffffff / (0x100000000 + 1)
	)
	n = (n &amp; m1) + ((n &gt;&gt; 1) &amp; m1)    //put count of each  2 bits into those  2 bits
	n = (n &amp; m2) + ((n &gt;&gt; 2) &amp; m2)    //put count of each  4 bits into those  4 bits
	n = (n &amp; m4) + ((n &gt;&gt; 4) &amp; m4)    //put count of each  8 bits into those  8 bits
	n = (n &amp; m8) + ((n &gt;&gt; 8) &amp; m8)    //put count of each 16 bits into those 16 bits
	n = (n &amp; m16) + ((n &gt;&gt; 16) &amp; m16) //put count of each 32 bits into those 32 bits
	n = (n &amp; m32) + ((n &gt;&gt; 32) &amp; m32) //put count of each 64 bits into those 64 bits
	return n
}
</code></pre>

<p><em>test</em></p>

<pre><code class="language-golang">
const N = 1&lt;&lt;62 + 5543445554

func TestStupidCount(t *testing.T) {
	fmt.Println(StupidCount(N))
}

func TestNaiveCount(t *testing.T) {
	fmt.Println(NaiveCount(N))
}

func TestSparseCount(t *testing.T) {
	fmt.Println(SparseCount(N))
}

func TestDenseCount(t *testing.T) {
	fmt.Println(DenseCount(N))
}

func TestLookupCount(t *testing.T) {
	fmt.Println(LookupCount(N))
}

func TestParallelCount(t *testing.T) {
	fmt.Println(ParallelCount(N))
}

func BenchmarkLookupCount(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		LookupCount(N)
	}
}

func BenchmarkStupidCount(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		StupidCount(N)
	}
}

func BenchmarkNaiveCount(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		NaiveCount(N)
	}
}

func BenchmarkSparseCount(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		SparseCount(N)
	}
}

func BenchmarkDenseCount(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		DenseCount(N)
	}
}

func BenchmarkParallelCount(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		ParallelCount(N)
	}
}

</code></pre>

<p><em>benchmark</em></p>

<pre><code>goos: windows
goarch: amd64
pkg: github.com/d0zingcat/labs/popcount
BenchmarkLookupCount-4     	2000000000	         0.31 ns/op
BenchmarkStupidCount-4     	20000000	       107 ns/op
BenchmarkNaiveCount-4      	30000000	        38.9 ns/op
BenchmarkSparseCount-4     	200000000	         6.93 ns/op
BenchmarkDenseCount-4      	30000000	        41.2 ns/op
BenchmarkParallelCount-4   	2000000000	         0.31 ns/op
PASS
ok  	github.com/d0zingcat/labs/popcount	8.252s
</code></pre>

<p>as to lookup popcount, the approach is use space to exchange time
thus, parallel pop count uses devide-and-conquer strategy to count.</p>

<p><em>leetcode</em></p>

<pre><code>191. Number of 1 Bits

Write a function that takes an unsigned integer and returns the number of '1' bits it has (also known as the Hamming weight).

Example 1:

Input: 11
Output: 3
Explanation: Integer 11 has binary representation 00000000000000000000000000001011 
Example 2:

Input: 128
Output: 1
Explanation: Integer 128 has binary representation 00000000000000000000000010000000
</code></pre>

<p><em>Solution</em></p>

<pre><code class="language-python">class Solution(object):
    def hammingWeight(self, n):
        &quot;&quot;&quot;
        :type n: int
        :rtype: int
        &quot;&quot;&quot;
        count = 0
        while n:
            count += 1
            n = n &amp; (n-1)
        return count
</code></pre>

<p><em>Refer</em></p>

<p><a href="https://en.wikipedia.org/wiki/Hamming_weight">Hamming weight</a></p>

<p><a href="https://bisqwit.iki.fi/source/misc/bitcounting/#SourceCode">Bit-counting algorithms</a></p>

<p><a href="https://gurmeet.net/puzzles/fast-bit-counting-routines/">Fast Bit Counting</a></p>

<p><a href="https://stackoverflow.com/questions/15233121/calculating-hamming-weight-in-o1">Calculating Hamming Weight in O(1)</a></p>

<p><a href="https://www.cnblogs.com/jawiezhu/p/4395063.html">Hamming Weight的算法分析</a></p>

<p><a href="http://www.cnblogs.com/Martinium/articles/popcount.html">popcount 算法分析</a></p>

<p><a href="http://www.cnblogs.com/yongssu/p/4348479.html">Hamming Weight的算法分析（转载）</a></p>

<p><a href="https://en.wikipedia.org/wiki/Fermat_number">Fermat number</a></p>

<h2 id="sieve-of-eratosthenes-derived-from-popcount">Sieve of Eratosthenes derived from popcount</h2>

<blockquote>
<p>In mathematics, the sieve of Eratosthenes is a simple, ancient algorithm for finding all prime numbers up to any given limit.</p>

<p>It does so by iteratively marking as composite (i.e., not prime) the multiples of each prime, starting with the first prime number, 2. The multiples of a given prime are generated as a sequence of numbers starting from that prime, with constant difference between them that is equal to that prime. This is the sieve&rsquo;s key distinction from using trial division to sequentially test each candidate number for divisibility by each prime.</p>
</blockquote>

<p><em>Two Approaches to get prime table</em></p>

<ol>
<li>normal</li>
</ol>

<p><em>code</em></p>

<pre><code class="language-golang">func PrimeNumbers(n int) (ans []int) {
	for i := 2; i &lt; n; i ++ {
		if isPrime(i) {
			ans = append(ans, i)
		}
	}
	return ans
}

func isPrime(n int) bool {
	for i := 2; i &lt; int(math.Sqrt(float64(n))) + 1; i ++ {
		if n % i == 0 {
			return false
		}
	}
	return true
}
</code></pre>

<p><em>test</em></p>

<pre><code class="language-golang">func BenchmarkPrimeNumbers(b *testing.B) {
	for i := 0; i &lt; b.N; i ++ {
		PrimeNumbers(1000)
	}
}
</code></pre>

<p><em>benchmark</em></p>

<pre><code>goos: darwin
goarch: amd64
pkg: github.com/d0zingcat/learning/leetcode/primenumber/normal
BenchmarkPrimeNumbers-8   	   20000	     63843 ns/op
PASS
</code></pre>

<ol>
<li>eratosthenes</li>
</ol>

<p><em>code</em></p>

<pre><code class="language-golang">func PrimeTable(n int) (ans []int) {
	var a []int
	for i := 0; i &lt; n; i ++ {
		a = append(a, i)
	}
	for i := 2; i &lt; n; i++ {
		if a[i] != 0 {
			ans = append(ans, a[i])
		}
		for j := i*2; j &lt; n; j += i {
			a[j] = 0
		}
	}
	return
}

</code></pre>

<p><em>test</em></p>

<pre><code class="language-golang">func BenchmarkPrimeTable(b *testing.B) {
	for i := 0; i &lt; b.N; i ++ {
		PrimeTable(1000)
	}
}
</code></pre>

<p><em>benchmark</em></p>

<pre><code>goos: darwin
goarch: amd64
pkg: github.com/d0zingcat/learning/leetcode/primenumber/eratosthenes
BenchmarkPrimeTable-8   	  100000	     10839 ns/op
PASS
</code></pre>

<p><strong>The bigger n is, the more time the normal algorithm consumes each op!</strong></p>

<p>Appearantly, use the prime table and sieve is the best way to get a bunch of primes that is smaller than n.</p>

<p><em>Refer</em></p>

<p><a href="https://en.wikipedia.org/wiki/Euclidean_algorithm">Euclidean algorithm</a></p>

<p><a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">Sieve of Eratosthenes</a></p>


            </div>
            
            
            <br>
            <div class="navigation">
                
                <div>
                    <img class="icon" src="https://blog.d0zingcat.xyz/img/back.svg" alt="back" />
                    <a href="https://blog.d0zingcat.xyz/blog/20180819%E6%9C%AC%E5%91%A8%E6%80%BB%E7%BB%93/">20180819本周总结</a>
                </div>
                
                <div style="width: 100%;"></div>
                
                <div>
                    <a href="https://blog.d0zingcat.xyz/blog/2018-10-24/">2018-10-24</a>
                    <img class="icon" src="https://blog.d0zingcat.xyz/img/next.svg" alt="next" />
                </div>
                
            </div>
            
            
            <br>
            <div class="disqus">
                <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "inflooping" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
            

            

            
        </div>
    </div>
</div>



<div class="footer column">
    <div class="container">

        

        <div class="copyright">

        
            
                <a href="https://blog.d0zingcat.xyz/license">Copyright © 2018 d0zingcat</a>
            
        

        </div>
        <div class="icons">

        

        

        

        

        

        
            <a href="https://github.com/d0zingcat" rel=me target="_blank">
                <img class="icon" src="https://blog.d0zingcat.xyz/img/github.svg" alt="github" />
            </a>
        

        
            <a href="https://twitter.com/d0zingcat" rel=me target="_blank">
                <img class="icon" src="https://blog.d0zingcat.xyz/img/twitter.svg" alt="twitter" />
            </a>
        

        
            <a href="https://www.linkedin.com/in/leewtang" rel=me target="_blank">
                <img class="icon" src="https://blog.d0zingcat.xyz/img/linkedin.svg" alt="linkedin" />
            </a>
        

        

        
            <a href="mailto:d0zingcat@outlook.com">
                <img class="icon" src="https://blog.d0zingcat.xyz/img/email.svg" alt="email" />
            </a>
        

        
            <a href="https://blog.d0zingcat.xyz/index.xml">
                <img class="icon" src="https://blog.d0zingcat.xyz/img/rss.svg" alt="rss" />
            </a>
        

        </div>
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Raleway:400,600,700', 'Merriweather:300,300i,700,700i', 'Ubuntu+Mono:400,700']
    }
  });
</script>



  <script src="https://blog.d0zingcat.xyz/js/highlight.min.js" defer></script>
  



  <script src="https://blog.d0zingcat.xyz/js/progressively.min.js" defer></script>







<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-92083861-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script>
  window.onload = function() {
    
      hljs.initHighlighting();
    
    
      progressively.init({delay: 30, throttle: 50});
    
    
  };
</script>




</body>
</html>

